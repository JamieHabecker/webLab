angular.module("odomFraud",["ngResource","globals","factories"]).config(["$routeProvider","$locationProvider","$httpProvider",function(a,b,c){c.defaults.headers.get={Accept:"application/json, text/javascript, */*"},a.when("/",{controller:"DisclaimerController",templateUrl:"views/disclaimer.html"}).when("/StepOne",{controller:"StepOneController",templateUrl:"views/stepOne.html"}).when("/StepTwo",{controller:"StepTwoController",templateUrl:"views/stepTwo.html"}).when("/StepThree",{controller:"StepThreeController",templateUrl:"views/stepThree.html"}).when("/StepFour",{controller:"StepFourController",templateUrl:"views/stepFour.html"}).when("/StepFive",{controller:"StepFiveController",templateUrl:"views/stepFive.html"}).when("/StepSix",{controller:"StepSixController",templateUrl:"views/stepSix.html"}).when("/Verify",{controller:"VerifyController",templateUrl:"views/confirmation.html"}).when("/Complete",{controller:"CompleteController",templateUrl:"views/complete.html"}).otherwise({redirectTo:"/"})}]).controller("DisclaimerController",["$scope","$location",function(a,b){sessionStorage.clear(),a.next=function(){b.path("/StepOne")}}]).controller("StepOneController",["$scope","$location",function(a,b){var c=sessionStorage.type;c?(a.comType="1"===c?"1":"2",a.checkIt=!1):a.checkIt=!0,a.one=function(){sessionStorage.type="1",a.checkIt=!1},a.two=function(){sessionStorage.type="2",a.checkIt=!0},a.check=function(){a.checkIt=!1},a.next=function(){"1"===a.comType||"Yes"===a.an?(sessionStorage.an=!1,b.path("/StepTwo")):(sessionStorage.removeItem("an"),b.path("/StepFour"))}}]).controller("StepTwoController",["$scope","$location","$timeout",function(a,b,c){var d=sessionStorage.type,e=sessionStorage.stepTwo,f=sessionStorage.statetwo,g=sessionStorage.stateCodetwo;if(void 0===d&&b.path("/StepOne"),e){var h=sessionStorage.getItem("stepTwo"),i=JSON.parse(h),j={fillIt:function(){a.fn=i.firstname,a.lastname=i.lastname,a.address=i.address,a.city=i.city,a.zip=i.zip,a.current=f}};c(j.fillIt,100)}a.next=function(){var c={firstname:a.fn,lastname:a.lastname,address:a.address,city:a.city,state:f,stateCode:g,zip:a.zip};sessionStorage.setItem("stepTwo",JSON.stringify(c)),b.path("/StepThree")}}]).controller("StepThreeController",["$scope","$location","$timeout",function(a,b,c){var d=sessionStorage.stepTwo,e=sessionStorage.stepThree,f=sessionStorage.complete;if(void 0===d&&b.path("/"),e){var g=sessionStorage.getItem("stepThree"),h=JSON.parse(g),i={fillIt:function(){a.email=h.email,a.phone=h.phone,a.conPref=h.conPref}};c(i.fillIt,100)}a.next=function(){var c={email:a.email,phone:a.phone,conPref:a.conPref};sessionStorage.setItem("stepThree",JSON.stringify(c)),f?b.path("/Verify"):b.path("/StepFour")}}]).controller("StepFourController",["$scope","$location","$timeout",function(a,b,c){var d=sessionStorage.stepFour,e=sessionStorage.stateFour,f=sessionStorage.stateCodefour,g=sessionStorage.complete;if(sessionStorage.an,d){var h=sessionStorage.getItem("stepFour"),i=JSON.parse(h),j={fillIt:function(){a.compName=i.compName,a.address=i.address,a.city=i.city,a.zip=i.zip,a.email=i.email,a.phone=i.phone}};c(j.fillIt,100)}a.next=function(){var c={compName:a.compName,address:a.address,city:a.city,zip:a.zip,state:e,stateCode:f,email:a.email,phone:a.phone};sessionStorage.setItem("stepFour",JSON.stringify(c)),g?b.path("/Verify"):b.path("/StepFive")}}]).controller("StepFiveController",["$scope","$location","$timeout",function(a,b,c){var d=sessionStorage.stepFour,e=sessionStorage.stepFive,f=sessionStorage.complete;if(void 0===d&&b.path("/"),e){var g=sessionStorage.getItem("stepFive"),h=JSON.parse(g),i={fillIt:function(){a.vyear=h.year,a.vmake=h.make,a.vmodel=h.model,a.vvin=h.vin,a.vplate=h.plate,a.vpc=h.prmColor,a.vsc=h.secColor}};c(i.fillIt,100)}a.next=function(){var c={year:a.vyear,make:a.vmake,model:a.vmodel,vin:a.vvin,plate:a.vplate,prmColor:a.vpc,secColor:a.vsc};sessionStorage.setItem("stepFive",JSON.stringify(c)),f?b.path("/Verify"):b.path("/StepSix")}}]).controller("StepSixController",["$scope","$location","$timeout",function(a,b,c){var d=sessionStorage.stepFour,e=sessionStorage.stepSix;if(void 0===d&&b.path("/"),e){var f=sessionStorage.getItem("stepSix"),g=JSON.parse(f),h={fillIt:function(){a.details=g.details}};c(h.fillIt,100)}a.next=function(){var c={details:a.details};sessionStorage.setItem("stepSix",JSON.stringify(c)),b.path("/Verify")}}]).controller("VerifyController",["$scope","$location","ContactFactory",function(a,b,c){function d(a){sessionStorage.refNumber=a.ComplaintId,b.path("/Complete")}function e(b){a.err=b.status}var f=sessionStorage.stepTwo,g=sessionStorage.stepThree,h=sessionStorage.stepFour,i=sessionStorage.stepFive,j=sessionStorage.stepSix,k=sessionStorage.stateCodetwo,l=sessionStorage.stateCodefour,m=sessionStorage.an;void 0===j&&b.path("/"),j?(cdFour=JSON.parse(h),cdSix=JSON.parse(j),cdFive=JSON.parse(i),m?(cdTwo=JSON.parse(f),cdThree=JSON.parse(g),data={pc:"true",firstname:cdTwo.firstname,lastname:cdTwo.lastname,address:cdTwo.address,city:cdTwo.city,zip:cdTwo.zip,state:k,email:cdThree.email,phone:cdThree.phone,conPref:cdThree.conPref,compName:cdFour.compName,compAddress:cdFour.address,compCity:cdFour.city,compState:l,compZip:cdFour.zip,compEmail:cdFour.email,compPhone:cdFour.phone,year:cdFive.year,make:cdFive.make,model:cdFive.model,vin:cdFive.vin,plate:cdFive.plate,prmColor:cdFive.prmColor,secColor:cdFive.secColor,details:cdSix.details},a.theData=[data]):(a.vary="gen",a.vary2="sec",a.vary3="sing",data={pc:"false",compName:cdFour.compName,compAddress:cdFour.address,compCity:cdFour.city,compState:l,compZip:cdFour.zip,compEmail:cdFour.email,compPhone:cdFour.phone,year:cdFive.year,make:cdFive.make,model:cdFive.model,vin:cdFive.vin,plate:cdFive.plate,prmColor:cdFive.prmColor,secColor:cdFive.secColor,details:cdSix.details},a.theData=[data])):(sessionStorage.clear(),b.path("/")),a.edit=function(a){sessionStorage.complete="yes",b.path("/"+a)},a.next=function(){a.isloading=!0;var b={oOdometerFraudFields:data};sessionStorage.setItem("data",JSON.stringify(data)),c.contactInfo({},b,d,e)}}]).controller("CompleteController",["$scope","complete",function(a){a.ref="[#"+sessionStorage.refNumber+"]",sessionStorage.clear(),a.next=function(){window.location.replace("/")}}]),angular.module("factories",[]).factory("message",function(){return[]}).factory("ContactFactory",["$resource",function(a){var b="/apps/WebServicesBackEnd/OdometerFraud.aspx/SendFields";return a(b,{},{contactInfo:{method:"Post",url:b}})}]);